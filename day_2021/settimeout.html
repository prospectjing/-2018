<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000;opacity: 1"></div>
    <button id="fade-btn">淡出</button>

    <script type="text/javascript">
    	var btn = document.querySelector('#fade-btn');
    	var divbox = document.querySelector('#fade-obj');

    	
    	if(btn.innerText == "淡出"){

         
    	btn.addEventListener('click',function(){
    		
    		var time = setInterval(function(){

    			 divbox.style.opacity -= 0.1;
    			
    			btn.disabled = true;
    			if(divbox.style.opacity <= 0){
    				divbox.style.opacity = 0;
    				btn.disabled = false;
    				btn.innerText = "淡入";
    				clearInterval(time);
    			}
    		},500)

    	},false);

    }else if(btn.innerText == "淡入"){
     btn.addEventListener('click',function(){
    		
    		setInterval(function(){
    			var i = 0.1
    			 divbox.style.opacity += i;
    			
    			btn.disabled = true;
    			if(divbox.style.opacity >= 1){
    				divbox.style.opacity = 1;
    				btn.disabled = false;
    				btn.innerText = "淡出";
    				// clearInterval(time1);
    			}
    		},500)
    	},false);
    }
    </script>
</body>
</html>